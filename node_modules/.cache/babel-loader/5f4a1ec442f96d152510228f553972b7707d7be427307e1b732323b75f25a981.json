{"ast":null,"code":"import _defineProperty from\"C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useLocation}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{ToastContainer,toast}from\"react-toastify\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddCardDetails=function AddCardDetails(){var location=useLocation();var navigate=useNavigate();var user=JSON.parse(sessionStorage.getItem(\"active-customer\"));var priceToPay=location.state.priceToPay;var customer_jwtToken=sessionStorage.getItem(\"customer-jwtToken\");var _useState=useState({cardName:\"\",cardNumber:\"\",validThrough:\"\",cvv:\"\"}),_useState2=_slicedToArray(_useState,2),card=_useState2[0],setCard=_useState2[1];var handleCardInput=function handleCardInput(e){setCard(_objectSpread(_objectSpread({},card),{},_defineProperty({},e.target.name,e.target.value)));};var payForOrder=function payForOrder(e){e.preventDefault();fetch(\"http://localhost:8080/api/order/add?userId=\"+user.id,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+customer_jwtToken}}).then(function(result){result.json().then(function(res){if(res.success){toast.success(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){navigate(\"/home\");},2000);// Redirect after 3 seconds\n}else if(!res.success){toast.error(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},2000);// Redirect after 3 seconds\n}else{toast.error(\"It Seems Server is down!!!\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},2000);// Redirect after 3 seconds\n}});}).catch(function(error){console.error(error);toast.error(\"It seems server is down\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},1000);// Redirect after 3 seconds\n});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"mt-2 d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"card form-card border-color\",style:{width:\"25rem\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-color custom-bg-text\",children:/*#__PURE__*/_jsx(\"h5\",{class:\"card-title text-center\",children:\"Payment Details\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body text-color custom-bg\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:payForOrder,children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"name\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\" Name on Card\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"name\",name:\"cardName\",onChange:handleCardInput,value:card.cardName,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cardNumber\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\" Card Number\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"cardNumber\",name:\"cardNumber\",onChange:handleCardInput,value:card.cardNumber,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"validThrough\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Valid Through\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"validThrough\",name:\"validThrough\",onChange:handleCardInput,value:card.validThrough,required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cvv\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"CVV\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"cvv\",name:\"cvv\",onChange:handleCardInput,value:card.cvv,required:true})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",class:\"btn custom-bg-text bg-color\",value:\"Pay Rs \"+priceToPay}),/*#__PURE__*/_jsx(ToastContainer,{})]})})]})})});};export default AddCardDetails;","map":{"version":3,"names":["useState","useLocation","useNavigate","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","AddCardDetails","location","navigate","user","JSON","parse","sessionStorage","getItem","priceToPay","state","customer_jwtToken","_useState","cardName","cardNumber","validThrough","cvv","_useState2","_slicedToArray","card","setCard","handleCardInput","e","_objectSpread","_defineProperty","target","name","value","payForOrder","preventDefault","fetch","id","method","headers","Accept","Authorization","then","result","json","res","success","responseMessage","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","error","window","reload","catch","console","children","class","style","width","className","onSubmit","for","type","onChange","required"],"sources":["C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/src/OrderComponent/AddCardDetails.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport { useNavigate } from \"react-router-dom\";\nimport { ToastContainer, toast } from \"react-toastify\";\n\nconst AddCardDetails = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const user = JSON.parse(sessionStorage.getItem(\"active-customer\"));\n  const priceToPay = location.state.priceToPay;\n\n  const customer_jwtToken = sessionStorage.getItem(\"customer-jwtToken\");\n\n  const [card, setCard] = useState({\n    cardName: \"\",\n    cardNumber: \"\",\n    validThrough: \"\",\n    cvv: \"\",\n  });\n\n  const handleCardInput = (e) => {\n    setCard({ ...card, [e.target.name]: e.target.value });\n  };\n\n  const payForOrder = (e) => {\n    e.preventDefault();\n    fetch(\"http://localhost:8080/api/order/add?userId=\" + user.id, {\n      method: \"POST\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + customer_jwtToken,\n      },\n    })\n      .then((result) => {\n        result.json().then((res) => {\n          if (res.success) {\n            toast.success(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n\n            setTimeout(() => {\n              navigate(\"/home\");\n            }, 2000); // Redirect after 3 seconds\n          } else if (!res.success) {\n            toast.error(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 2000); // Redirect after 3 seconds\n          } else {\n            toast.error(\"It Seems Server is down!!!\", {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 2000); // Redirect after 3 seconds\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        toast.error(\"It seems server is down\", {\n          position: \"top-center\",\n          autoClose: 1000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n        setTimeout(() => {\n          window.location.reload(true);\n        }, 1000); // Redirect after 3 seconds\n      });\n  };\n\n  return (\n    <div>\n      <div class=\"mt-2 d-flex aligns-items-center justify-content-center\">\n        <div class=\"card form-card border-color\" style={{ width: \"25rem\" }}>\n          <div className=\"card-header bg-color custom-bg-text\">\n            <h5 class=\"card-title text-center\">Payment Details</h5>\n          </div>\n          <div class=\"card-body text-color custom-bg\">\n            <form onSubmit={payForOrder}>\n              <div class=\"mb-3\">\n                <label for=\"name\" class=\"form-label\">\n                  <b> Name on Card</b>\n                </label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"name\"\n                  name=\"cardName\"\n                  onChange={handleCardInput}\n                  value={card.cardName}\n                  required\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"cardNumber\" class=\"form-label\">\n                  <b> Card Number</b>\n                </label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"cardNumber\"\n                  name=\"cardNumber\"\n                  onChange={handleCardInput}\n                  value={card.cardNumber}\n                  required\n                />\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"validThrough\" class=\"form-label\">\n                  <b>Valid Through</b>\n                </label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"validThrough\"\n                  name=\"validThrough\"\n                  onChange={handleCardInput}\n                  value={card.validThrough}\n                  required\n                />\n              </div>\n\n              <div class=\"mb-3\">\n                <label for=\"cvv\" class=\"form-label\">\n                  <b>CVV</b>\n                </label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"cvv\"\n                  name=\"cvv\"\n                  onChange={handleCardInput}\n                  value={card.cvv}\n                  required\n                />\n              </div>\n\n              <input\n                type=\"submit\"\n                class=\"btn custom-bg-text bg-color\"\n                value={\"Pay Rs \" + priceToPay}\n              />\n\n              <ToastContainer />\n            </form>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddCardDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}