{"ast":null,"code":"import _slicedToArray from\"C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import ProductCarousel from\"../ProductComponent/ProductCarousel\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddProductReview=function AddProductReview(){var user=JSON.parse(sessionStorage.getItem(\"active-customer\"));var customer_jwtToken=sessionStorage.getItem(\"customer-jwtToken\");var location=useLocation();var product=location.state;var _useState=useState(user.id),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];var _useParams=useParams(),productId=_useParams.productId;var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),star=_useState4[0],setStar=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),review=_useState6[0],setReview=_useState6[1];var navigate=useNavigate();var saveReview=function saveReview(e){if(user==null){e.preventDefault();alert(\"Please login as Customer for adding your review!!!\");}else{e.preventDefault();setUserId(user.id);var data={userId:userId,productId:productId,star:star,review:review};fetch(\"http://localhost:8080/api/product/review/add\",{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+customer_jwtToken},body:JSON.stringify(data)}).then(function(result){result.json().then(function(res){if(res.success){toast.success(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){navigate(\"/product/\"+product.id+\"/category/\"+product.category.id);},2000);// Redirect after 3 seconds\n}else if(!res.success){toast.error(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},2000);// Redirect after 3 seconds\n}else{toast.error(\"It Seems Server is down!!!\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},2000);// Redirect after 3 seconds\n}});});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-2 mt-2\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-3 mt-2\",children:/*#__PURE__*/_jsx(\"div\",{class:\"card form-card border-color custom-bg\",children:/*#__PURE__*/_jsx(ProductCarousel,{item:{image1:product.image1,image2:product.image2,image3:product.image3}})})}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-5 mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card form-card border-color custom-bg\",style:{width:\"30rem\"},children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-color text-center custom-bg-text\",children:/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"Add Product Review\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body text-color\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveReview,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Star\"})}),/*#__PURE__*/_jsxs(\"select\",{name:\"locationId\",onChange:function onChange(e){setStar(e.target.value);},className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Star\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"review\",className:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Product Review\"})}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"review\",rows:\"3\",placeholder:\"enter review..\",onChange:function onChange(e){setReview(e.target.value);},value:review})]}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn bg-color custom-bg-text\",value:\"Add Review\"}),/*#__PURE__*/_jsx(ToastContainer,{})]})})]})})]})});};export default AddProductReview;","map":{"version":3,"names":["useState","useEffect","ToastContainer","toast","useNavigate","useParams","axios","ProductCarousel","useLocation","jsx","_jsx","jsxs","_jsxs","AddProductReview","user","JSON","parse","sessionStorage","getItem","customer_jwtToken","location","product","state","_useState","id","_useState2","_slicedToArray","userId","setUserId","_useParams","productId","_useState3","_useState4","star","setStar","_useState5","_useState6","review","setReview","navigate","saveReview","e","preventDefault","alert","data","fetch","method","headers","Accept","Authorization","body","stringify","then","result","json","res","success","responseMessage","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","category","error","window","reload","className","children","class","item","image1","image2","image3","style","width","onSubmit","name","onChange","target","value","htmlFor","rows","placeholder","type"],"sources":["C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/src/ReviewComponent/AddProductReview.jsx"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport ProductCarousel from \"../ProductComponent/ProductCarousel\";\nimport { useLocation } from \"react-router-dom\";\n\nconst AddProductReview = () => {\n  let user = JSON.parse(sessionStorage.getItem(\"active-customer\"));\n\n  const customer_jwtToken = sessionStorage.getItem(\"customer-jwtToken\");\n\n  const location = useLocation();\n  const product = location.state;\n\n  const [userId, setUserId] = useState(user.id);\n\n  let { productId } = useParams();\n\n  const [star, setStar] = useState(\"\");\n  const [review, setReview] = useState(\"\");\n\n  let navigate = useNavigate();\n\n  const saveReview = (e) => {\n    if (user == null) {\n      e.preventDefault();\n      alert(\"Please login as Customer for adding your review!!!\");\n    } else {\n      e.preventDefault();\n      setUserId(user.id);\n      let data = { userId, productId, star, review };\n\n      fetch(\"http://localhost:8080/api/product/review/add\", {\n        method: \"POST\",\n        headers: {\n          Accept: \"application/json\",\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \" + customer_jwtToken,\n        },\n        body: JSON.stringify(data),\n      }).then((result) => {\n        result.json().then((res) => {\n          if (res.success) {\n            toast.success(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n\n            setTimeout(() => {\n              navigate(\n                \"/product/\" + product.id + \"/category/\" + product.category.id\n              );\n            }, 2000); // Redirect after 3 seconds\n          } else if (!res.success) {\n            toast.error(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 2000); // Redirect after 3 seconds\n          } else {\n            toast.error(\"It Seems Server is down!!!\", {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 2000); // Redirect after 3 seconds\n          }\n        });\n      });\n    }\n  };\n\n  return (\n    <div className=\"container-fluid mb-5\">\n      <div class=\"row\">\n        <div class=\"col-sm-2 mt-2\"></div>\n        <div class=\"col-sm-3 mt-2\">\n          <div class=\"card form-card border-color custom-bg\">\n            <ProductCarousel\n              item={{\n                image1: product.image1,\n                image2: product.image2,\n                image3: product.image3,\n              }}\n            />\n          </div>\n        </div>\n\n        <div class=\"col-sm-5 mt-2\">\n          <div\n            className=\"card form-card border-color custom-bg\"\n            style={{ width: \"30rem\" }}\n          >\n            <div className=\"card-header bg-color text-center custom-bg-text\">\n              <h5 className=\"card-title\">Add Product Review</h5>\n            </div>\n            <div className=\"card-body text-color\">\n              <form onSubmit={saveReview}>\n                <div className=\"mb-3\">\n                  <label className=\"form-label\">\n                    <b>Star</b>\n                  </label>\n\n                  <select\n                    name=\"locationId\"\n                    onChange={(e) => {\n                      setStar(e.target.value);\n                    }}\n                    className=\"form-control\"\n                  >\n                    <option value=\"\">Select Star</option>\n                    <option value=\"1\">1</option>\n                    <option value=\"2\">2</option>\n                    <option value=\"3\">3</option>\n                    <option value=\"4\">4</option>\n                    <option value=\"5\">5</option>\n                  </select>\n                </div>\n                <div className=\"mb-3\">\n                  <label htmlFor=\"review\" className=\"form-label\">\n                    <b>Product Review</b>\n                  </label>\n                  <textarea\n                    className=\"form-control\"\n                    id=\"review\"\n                    rows=\"3\"\n                    placeholder=\"enter review..\"\n                    onChange={(e) => {\n                      setReview(e.target.value);\n                    }}\n                    value={review}\n                  />\n                </div>\n\n                <input\n                  type=\"submit\"\n                  className=\"btn bg-color custom-bg-text\"\n                  value=\"Add Review\"\n                />\n\n                <ToastContainer />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AddProductReview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}