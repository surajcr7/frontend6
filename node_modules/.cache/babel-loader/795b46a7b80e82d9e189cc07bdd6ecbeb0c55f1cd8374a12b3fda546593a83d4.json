{"ast":null,"code":"import _slicedToArray from\"C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import{useNavigate}from\"react-router-dom\";import{useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateCategoryForm=function UpdateCategoryForm(){var location=useLocation();var category=location.state;var admin_jwtToken=sessionStorage.getItem(\"admin-jwtToken\");var _useState=useState(category.id),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setId=_useState2[1];var _useState3=useState(category.name),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var _useState5=useState(category.description),_useState6=_slicedToArray(_useState5,2),description=_useState6[0],setDescription=_useState6[1];var navigate=useNavigate();var saveCategory=function saveCategory(e){var data={id:id,name:name,description:description};fetch(\"http://localhost:8080/api/category/update\",{method:\"PUT\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\",Authorization:\"Bearer \"+admin_jwtToken},body:JSON.stringify(data)}).then(function(result){result.json().then(function(res){if(res.success){toast.success(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){navigate(\"/admin/category/all\");},2000);// Redirect after 3 seconds\n}else if(!res.success){toast.error(res.responseMessage,{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},2000);// Redirect after 3 seconds\n}else{toast.error(\"It Seems Server is down!!!\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},2000);// Redirect after 3 seconds\n}});}).catch(function(error){console.error(error);toast.error(\"It seems server is down\",{position:\"top-center\",autoClose:1000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});setTimeout(function(){window.location.reload(true);},1000);// Redirect after 3 seconds\n});e.preventDefault();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{class:\"mt-2 d-flex aligns-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{class:\"form-card border-color custom-bg\",style:{width:\"25rem\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-color custom-bg-text mt-2 d-flex justify-content-center align-items-center\",style:{borderRadius:\"1em\",height:\"38px\"},children:/*#__PURE__*/_jsx(\"h5\",{class:\"card-title\",children:\"Update Category\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"card-body text-color mt-3\",children:/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"title\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Category Title\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"title\",placeholder:\"enter title..\",onChange:function onChange(e){setName(e.target.value);},value:name})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"description\",class:\"form-label\",children:/*#__PURE__*/_jsx(\"b\",{children:\"Category Description\"})}),/*#__PURE__*/_jsx(\"textarea\",{class:\"form-control\",id:\"description\",rows:\"3\",placeholder:\"enter description..\",onChange:function onChange(e){setDescription(e.target.value);},value:description})]}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex aligns-items-center justify-content-center mb-2\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:saveCategory,class:\"btn bg-color custom-bg-text\",children:\"Update Category\"})}),/*#__PURE__*/_jsx(ToastContainer,{})]})})]})})})});};export default UpdateCategoryForm;","map":{"version":3,"names":["useState","ToastContainer","toast","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","UpdateCategoryForm","location","category","state","admin_jwtToken","sessionStorage","getItem","_useState","id","_useState2","_slicedToArray","setId","_useState3","name","_useState4","setName","_useState5","description","_useState6","setDescription","navigate","saveCategory","e","data","fetch","method","headers","Accept","Authorization","body","JSON","stringify","then","result","json","res","success","responseMessage","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","error","window","reload","catch","console","preventDefault","children","class","style","width","className","borderRadius","height","for","type","placeholder","onChange","target","value","rows","onClick"],"sources":["C:/Users/97798/Desktop/ecommerce-multivendor-frontend-master/src/CategoryComponent/UpdateCategoryForm.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useLocation } from \"react-router-dom\";\n\nconst UpdateCategoryForm = () => {\n  const location = useLocation();\n  const category = location.state;\n  const admin_jwtToken = sessionStorage.getItem(\"admin-jwtToken\");\n\n  const [id, setId] = useState(category.id);\n  const [name, setName] = useState(category.name);\n  const [description, setDescription] = useState(category.description);\n\n  let navigate = useNavigate();\n\n  const saveCategory = (e) => {\n    let data = { id, name, description };\n\n    fetch(\"http://localhost:8080/api/category/update\", {\n      method: \"PUT\",\n      headers: {\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + admin_jwtToken,\n      },\n      body: JSON.stringify(data),\n    })\n      .then((result) => {\n        result.json().then((res) => {\n          if (res.success) {\n            toast.success(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n\n            setTimeout(() => {\n              navigate(\"/admin/category/all\");\n            }, 2000); // Redirect after 3 seconds\n          } else if (!res.success) {\n            toast.error(res.responseMessage, {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 2000); // Redirect after 3 seconds\n          } else {\n            toast.error(\"It Seems Server is down!!!\", {\n              position: \"top-center\",\n              autoClose: 1000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined,\n            });\n            setTimeout(() => {\n              window.location.reload(true);\n            }, 2000); // Redirect after 3 seconds\n          }\n        });\n      })\n      .catch((error) => {\n        console.error(error);\n        toast.error(\"It seems server is down\", {\n          position: \"top-center\",\n          autoClose: 1000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n        });\n        setTimeout(() => {\n          window.location.reload(true);\n        }, 1000); // Redirect after 3 seconds\n      });\n    e.preventDefault();\n  };\n\n  return (\n    <div>\n      <div class=\"mt-2 d-flex aligns-items-center justify-content-center\">\n        <div\n          class=\"form-card border-color custom-bg\"\n          style={{ width: \"25rem\" }}\n        >\n          <div className=\"container-fluid\">\n            <div\n              className=\"card-header bg-color custom-bg-text mt-2 d-flex justify-content-center align-items-center\"\n              style={{\n                borderRadius: \"1em\",\n                height: \"38px\",\n              }}\n            >\n              <h5 class=\"card-title\">Update Category</h5>\n            </div>\n            <div class=\"card-body text-color mt-3\">\n              <form>\n                <div class=\"mb-3\">\n                  <label for=\"title\" class=\"form-label\">\n                    <b>Category Title</b>\n                  </label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"title\"\n                    placeholder=\"enter title..\"\n                    onChange={(e) => {\n                      setName(e.target.value);\n                    }}\n                    value={name}\n                  />\n                </div>\n                <div class=\"mb-3\">\n                  <label for=\"description\" class=\"form-label\">\n                    <b>Category Description</b>\n                  </label>\n                  <textarea\n                    class=\"form-control\"\n                    id=\"description\"\n                    rows=\"3\"\n                    placeholder=\"enter description..\"\n                    onChange={(e) => {\n                      setDescription(e.target.value);\n                    }}\n                    value={description}\n                  />\n                </div>\n\n                <div className=\"d-flex aligns-items-center justify-content-center mb-2\">\n                  <button\n                    type=\"submit\"\n                    onClick={saveCategory}\n                    class=\"btn bg-color custom-bg-text\"\n                  >\n                    Update Category\n                  </button>\n                </div>\n\n                <ToastContainer />\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UpdateCategoryForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}